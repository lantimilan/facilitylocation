\documentclass{beamer}

\usepackage{amsmath, tikz, subfigure, graphicx}
\usetikzlibrary{decorations.pathreplacing,decorations.pathmorphing,arrows,positioning,shapes,shapes.multipart}

\title[FTFP]{Approximation Algorithms
  for the Fault-Tolerant Facility Placement Problem}
\author[lyan]{Li Yan}
\institute[UCR]{
  Computer Science\\
  University of California Riverside\\
}
\date{06/10/2013}
\usetheme{Warsaw}

\input{macros.tex}


\begin{document}
%% (5-10min)  1. What is the problem: motivation, definition, related work
%% (5-10min)  2. What results do you have: approximation ratio
%% (30-40min) 3. How did you solve it: techniques
%% (5min)     4. How to improve it: open problems, future work
%%%
\begin{frame}
  \titlepage
\end{frame}

%%% outline
\begin{frame}
  \frametitle{Outline}
  \begin{enumerate}
    
  \item Problem Definition

  \item Related Work

  \item Main Results

  \item Techniques

  \item Approximation Algorithms

  \item{Summary}
  \end{enumerate}
\end{frame}

%% 1. What is the problem: motivation, definition, related work
%% - motivation: ISP/residents, data center/consumer
%% - definition: F, C, r_j, d_ij, f_i, what is a solution and what is the cost
%% - related work: UFL and FTFL
%%% problem example
%%% instance with annotation
\begin{frame}
  \frametitle{Fault-tolerant Facility Placement Problem (FTFP)}
  \setbeamercovered{invisible}
  \begin{center}
  \begin{tikzpicture}[scale=0.5,decoration=snake]
    \node[fill=blue!50] (fac3) at (0,2) {$3$};
    \node[fill=blue!50] (fac2) at (0,5) {$2$};
    \node[fill=blue!50] (fac1) at (0,8) {$1$};

    \node[below,fill=cyan!25] (faclabel3) at (-.5,1.5) {$f_3=4$};
    \node[below,fill=cyan!25] (faclabel2) at (-.5,4.5) {$f_2=6$};
    \node[below,fill=cyan!25] (faclabel1) at (-.5,7.5) {$f_1=3$};

    \node[circle,fill=green!50] (client4) at (6,0) {$4$};
    \node[circle,fill=green!50] (client3) at (6,3) {$3$};
    \node[circle,fill=green!50] (client2) at (6,6) {$2$};
    \node[circle,fill=green!50] (client1) at (6,9) {$1$};

    \node[right,fill=cyan!25] (demand4) at (6,-1) {$r_4=2$};
    \node[right,fill=cyan!25] (demand3) at (6,2) {$r_3=1$};
    \node[right,fill=cyan!25] (demand2) at (6,5) {$r_2=1$};
    \node[right,fill=cyan!25] (demand1) at (6,8) {$r_1=4$};

    \foreach \from/\to in {fac3/client4,fac3/client1,fac2/client3,fac1/client4,fac1/client2,fac1/client1}
    \draw (\from)--(\to);

    % edge weight
    \node[above] (ew11) at (2,8.3) {$1$};
    \node[above] (ew12) at (2.4,7) {$2$};
    \node[above] (ew14) at (1.9,5.5) {$1$};
    \node[above] (ew23) at (1.5,4.4) {$3$};
    \node[above] (ew33) at (1.5,2.5) {$2$};
    \node[above] (ew34) at (1.9,1.3) {$4$};

    \node (label1) at (3,-3) {Instance};

    \pause
    % annotations
    \node[above,fill=yellow!50] (sites) at (-.5,9.5) {site}; 
    \draw[->,decorate] (sites) -- (fac1);
\pause
    \node[above,fill=yellow!50] (clients) at (9,9.5) {client};
    \draw[->,decorate] (clients) -- (client1);
\pause
    \node[right,fill=yellow!50] (demand) at (9.5,0) {demand};
    \draw[->,decorate] (demand) -- (demand4);
\pause
    \node[above,fill=yellow!50,text width=2cm] (fi) at (-1,-2.5) {cost to open facility};
    \draw[->,decorate] (fi) -- (faclabel3);
\pause
    \node[above,fill=yellow!50,text width=2cm] (edge) at (4,10) {connection cost};
    \draw[->,decorate] (edge) -- (ew11);
\pause
  \end{tikzpicture}
  \end{center}
\end{frame}

\begin{frame}
  \frametitle{Fault-tolerant Facility Placement Problem (FTFP)}

  \begin{center}
  \begin{tikzpicture}[scale=0.5,decoration=snake]
    \node[fill=blue!50] (fac3) at (0,2) {$3$};
    \node[fill=blue!50] (fac2) at (0,5) {$2$};
    \node[fill=blue!50] (fac1) at (0,8) {$1$};

    \node[below,fill=cyan!25] (faclabel3) at (-.5,1.5) {$f_3=4$};
    \node[below,fill=cyan!25] (faclabel2) at (-.5,4.5) {$f_2=6$};
    \node[below,fill=cyan!25] (faclabel1) at (-.5,7.5) {$f_1=3$};

    \node[circle,fill=green!50] (client4) at (6,0) {$4$};
    \node[circle,fill=green!50] (client3) at (6,3) {$3$};
    \node[circle,fill=green!50] (client2) at (6,6) {$2$};
    \node[circle,fill=green!50] (client1) at (6,9) {$1$};

    \node[right,fill=cyan!25] (demand4) at (6,-1) {$r_4=2$};
    \node[right,fill=cyan!25] (demand3) at (6,2) {$r_3=1$};
    \node[right,fill=cyan!25] (demand2) at (6,5) {$r_2=1$};
    \node[right,fill=cyan!25] (demand1) at (6,8) {$r_1=4$};
    
    \foreach \from/\to in {fac3/client4,fac3/client1,fac2/client3,fac1/client4,fac1/client2,fac1/client1}
    \draw (\from)--(\to);

    % edge weight
    \node[above] (ew11) at (2,8.3) {$1$};
    \node[above] (ew12) at (2.4,7) {$2$};
    \node[above] (ew14) at (1.9,5.5) {$1$};
    \node[above] (ew23) at (1.5,4.4) {$3$};
    \node[above] (ew33) at (1.5,2.5) {$2$};
    \node[above] (ew34) at (1.9,1.3) {$4$};

    \node (label1) at (3,-3) {Instance};


    % remove annotations, use white, ugly solution
    \node[above,fill=white,color=white] (sites) at (-.5,9.5) {site}; 
    \draw[->,decorate,draw=none] (sites) -- (fac1);

    \node[above,fill=white,color=white] (clients) at (9,9.5) {client};
    \draw[->,decorate,draw=none] (clients) -- (client1);

    \node[right,fill=white,color=white] (demand) at (9.5,0) {demand};
    \draw[->,decorate,draw=none] (demand) -- (demand4);

    \node[above,fill=white,color=white,text width=2cm] (fi) at (-1,-2.5) {cost to open facility};
    \draw[->,decorate,draw=none] (fi) -- (faclabel3);

    \node[above,fill=white,color=white,text width=2cm] (edge) at (4,10) {connection cost};
    \draw[->,decorate,draw=none] (edge) -- (ew11);

  \end{tikzpicture}
  \end{center}
\end{frame}

%%% A feasible solution
\begin{frame}
  \frametitle{Feasible Integral Solution}
  \begin{figure}
    \centering
    \subfigure{
      \begin{tikzpicture}[scale=0.5]
    \node[fill=blue!50] (fac3) at (0,2) {$3$};
    \node[fill=blue!50] (fac2) at (0,5) {$2$};
    \node[fill=blue!50] (fac1) at (0,8) {$1$};

    \node[below] (faclabel3) at (-.5,1.5) {$f_3=4$};
    \node[below] (faclabel2) at (-.5,4.5) {$f_2=6$};
    \node[below] (faclabel1) at (-.5,7.5) {$f_1=3$};

    \node[circle,fill=green!50] (client4) at (6,0) {$4$};
    \node[circle,fill=green!50] (client3) at (6,3) {$3$};
    \node[circle,fill=green!50] (client2) at (6,6) {$2$};
    \node[circle,fill=green!50] (client1) at (6,9) {$1$};

    \node[right] (demand4) at (6,-1) {$r_4=2$};
    \node[right] (demand3) at (6,2) {$r_3=1$};
    \node[right] (demand2) at (6,5) {$r_2=1$};
    \node[right] (demand1) at (6,8) {$r_1=4$};
    
    \foreach \from/\to in {fac3/client4,fac3/client1,fac2/client3,fac1/client4,fac1/client2,fac1/client1}
    \draw (\from)--(\to);

    % edge weight
    \node[above] (ew11) at (2,8.3) {$1$};
    \node[above] (ew12) at (2.4,7) {$2$};
    \node[above] (ew14) at (1.9,5.5) {$1$};
    \node[above] (ew23) at (1.5,4.4) {$3$};
    \node[above] (ew33) at (1.5,2.5) {$2$};
    \node[above] (ew34) at (1.9,1.3) {$4$};

    \node (label1) at (3,-3) {Instance};
  \end{tikzpicture}
}
  \hspace{.25in}
  \subfigure{
    \centering
    \begin{tikzpicture}[scale=0.5]
    \node[fill=blue!50,minimum size=1cm] (fac3) at (0,2) {$3$};
    \node[fill=blue!75,minimum size=.2cm] (fac33) at (.5,1.5) {};
    \node[fill=blue!75,minimum size=.2cm] (fac32) at (.5,2.5) {};
    \node[fill=blue!75,minimum size=.2cm] (fac31) at (-.5,2.5) {};

    \node[fill=blue!50,minimum size=1cm] (fac2) at (0,5) {$2$};
    \node[fill=blue!75,minimum size=.2cm] (fac21) at (.5,4.5) {};

    \node[fill=blue!50,minimum size=1cm] (fac1) at (0,8) {$1$};
    \node[fill=blue!75,minimum size=.2cm] (fac12) at (.5,7.5) {};
   \node[fill=blue!75,minimum size=.2cm] (fac11) at (.5,8.5) {};

    \node[circle,fill=green!50] (client4) at (6,0) {$4$};
    \node[circle,fill=green!50] (client3) at (6,3) {$3$};
    \node[circle,fill=green!50] (client2) at (6,6) {$2$};
    \node[circle,fill=green!50] (client1) at (6,9) {$1$};
    
    \foreach \from/\to in {fac31/client1,fac32/client1,fac33/client1,fac11/client1,fac11/client2,fac11/client4,fac21/client3,fac12/client4}
        \draw (\from)--(\to);
    
    \node (label1) at (3,-3) {Solution};
  \end{tikzpicture}
}
\end{figure}

  Cost is $2f_1 + f_2 + 3f_3 + d_{11} + d_{12} + 2d_{14} +
  d_{23} + 3d_{31} = 38$
\end{frame}

\begin{frame}
  \frametitle{Optimal Integral Solution}
  
  \begin{figure}
    \centering
    \subfigure{
  \begin{tikzpicture}[scale=0.5]
    \node[fill=blue!50] (fac3) at (0,2) {$3$};
    \node[fill=blue!50] (fac2) at (0,5) {$2$};
    \node[fill=blue!50] (fac1) at (0,8) {$1$};

    \node[below] (faclabel3) at (-.5,1.5) {$f_3=4$};
    \node[below] (faclabel2) at (-.5,4.5) {$f_2=6$};
    \node[below] (faclabel1) at (-.5,7.5) {$f_1=3$};

    \node[circle,fill=green!50] (client4) at (6,0) {$4$};
    \node[circle,fill=green!50] (client3) at (6,3) {$3$};
    \node[circle,fill=green!50] (client2) at (6,6) {$2$};
    \node[circle,fill=green!50] (client1) at (6,9) {$1$};

    \node[right] (demand4) at (6,-1) {$r_4=2$};
    \node[right] (demand3) at (6,2) {$r_3=1$};
    \node[right] (demand2) at (6,5) {$r_2=1$};
    \node[right] (demand1) at (6,8) {$r_1=4$};
    
    \foreach \from/\to in {fac3/client4,fac3/client1,fac2/client3,fac1/client4,fac1/client2,fac1/client1}
    \draw (\from)--(\to);

    % edge weight
    \node[above] (ew11) at (2,8.3) {$1$};
    \node[above] (ew12) at (2.4,7) {$2$};
    \node[above] (ew14) at (1.9,5.5) {$1$};
    \node[above] (ew23) at (1.5,4.4) {$3$};
    \node[above] (ew33) at (1.5,2.5) {$2$};
    \node[above] (ew34) at (1.9,1.3) {$4$};

    \node (label1) at (3,-3) {Instance};
  \end{tikzpicture}
}    
  \hspace{.25in}
\subfigure{
    \begin{tikzpicture}[scale=0.5]
    \node[fill=blue!50,minimum size=1cm] (fac3) at (0,2) {$3$};

    \node[fill=blue!50,minimum size=1cm] (fac2) at (0,5) {$2$};
    \node[fill=blue!75,minimum size=.2cm] (fac21) at (.5,4.5) {};

    \node[fill=blue!50,minimum size=1cm] (fac1) at (0,8) {$1$};
    \node[fill=blue!75,minimum size=.2cm] (fac14) at (-.5,7.5) {};
    \node[fill=blue!75,minimum size=.2cm] (fac13) at (-.5,8.5) {};
    \node[fill=blue!75,minimum size=.2cm] (fac12) at (.5,7.5) {};
    \node[fill=blue!75,minimum size=.2cm] (fac11) at (.5,8.5) {};

    \node[circle,fill=green!50] (client4) at (6,0) {$4$};
    \node[circle,fill=green!50] (client3) at (6,3) {$3$};
    \node[circle,fill=green!50] (client2) at (6,6) {$2$};
    \node[circle,fill=green!50] (client1) at (6,9) {$1$};
    
    \foreach \from/\to in {fac11/client1,fac12/client1,fac11/client2,fac11/client4,fac12/client4,fac21/client3}
        \draw (\from)--(\to);

    \draw[bend left] (fac13) to node (ew13) {} (client1);
    \draw[bend right] (fac14) to node (ew14) {} (client1);
    \node (label1) at (3,-3) {Solution};
  \end{tikzpicture}
  }
  \end{figure}

  Cost is $4f_1 + 1f_2 + 0f_3 + 4d_{11} + d_{12} + 2d_{14} +
  d_{23} = 29$
\end{frame}

%% 2. Results: 1.575 rounding, hard example on dual-fitting

%% 3. Techniques:
%% 3.1 Demand Reduction: why, what (end product) and how (take floor)
%%     implication: reduction to FTFL, 1 + O(m/Q) approximation
%% 3.2 Adaptive Partitioning: why, what and how
%%     why: to use UFL-like rounding
%%     what: facility points and unit demand points, \barx and \bary with mu and nu
%%           properties...
%%     how: unit chunk, best client, primary, non-primary, overlap of neighborhood
%%
%% 3.3 Rounding: fault-tolerant made easy, all ratios preserved
%%     the 1.575 rounding is subtle
%% 3.4 Greedy, Dual-fitting, and hard example for local-charging

%% 4. Open problems and future work
%%     - dual-fitting for FTFP
%%     - 1.463 for UFL
\end{document}
