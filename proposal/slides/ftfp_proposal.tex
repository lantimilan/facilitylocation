% ftfp_proposal.tex
\documentclass[hyperref, xcolor=dvipsnames]{beamer}

\usepackage{amsmath,caption, subcaption, graphicx,tikz}
\title[Thesis Proposal Defense]{Approximation Algorithms for the
  Facility Location prolems}
\author[lyan]{Li Yan}
\institute[UCR]{
  Computer Science\\
  University of California Riverside\\
  [\medskipamount]
  \includegraphics[width=.2\textwidth,height=.25\textheight]{figure/UCseal.eps}
}
\date{Jan 30th, 2013}
\usetheme{Warsaw}

\input{macros.tex}
\begin{document}

%%%
\begin{frame}
  \titlepage
\end{frame}

%%%
\begin{frame}
  \frametitle{The Uncapacitated Facility Location Problem (UFL)}
  All demands are 1, each facility can be opened only once.
\end{frame}

%%%
\begin{frame}
  \frametitle{The Fault-tolerant Facility Location Problem (FTFL)}
  Demands more than 1, each facility can be opened only once.
\end{frame}

%%%
\begin{frame}
  \frametitle{The Fault-tolerant Facility Placement Problem (FTFP)}
  Demands more than 1, each facility can be opened multiple times.
\end{frame}

%%%
\begin{frame}
  \frametitle{Best Known Approximation Results}
  \begin{itemize}
  \item UFL: 1.488, a combination of LP-rounding and greedy, by Li (Princeton)
  \item FTFL: 1.7245, dependent rounding and laminar clustering, by Byrka, Srinivasan and Swamy (U Maryland)
  \item FTFP: 1.575, LP-rounding (UCR)
  \end{itemize}
\end{frame}

%%%
\begin{frame}
  \frametitle{Lower Bound on Approximability}
  \begin{itemize}
  \item No ratio better than $1.463$ unless $\PP = \NP$. Reduction
    from Set Cover, by Sviridenko.
  \item Integrality Gap is also $1.463$, the example uses $n$ facilities and $n \choose l$ clients. The fractional solution is each $y_i = 1/l$.
  \end{itemize}
\end{frame}

%%%
\begin{frame}
  \frametitle{The LP Formulation}
  \begin{itemize}
  \item $y_i$ represent the number of facilities built at site $i$.
  \item $x_{ij}$ represent the number of connections from client $j$
    to facilities at site $i$.
  \end{itemize}
  %%%%%%%%%%% 
  \begin{alignat}{3}
    \textrm{minimize}\quad \textstyle{\sum_{i\in \sitesset}}f_iy_i &+ \textstyle{\sum_{i\in \sitesset, j\in \clientset}}d_{ij}x_{ij}&\label{eqn:fac_primal}
    \\ \notag
    \textrm{subject to}\quad y_i - x_{ij} &\geq 0  & &\forall i\in \sitesset, j\in \clientset 
    \\ \notag
    \textstyle{\sum_{i\in \sitesset} x_{ij}} &\geq r_j & &\forall j\in \clientset
    \\ \notag
    x_{ij} \geq 0, y_i &\geq 0 & &\forall i\in \sitesset, j\in \clientset 
    \\ \notag
  \end{alignat}
  %%%%%%%%%%%%
  \begin{alignat}{3}
    \textrm{maximize}\quad \textstyle{\sum_{j\in \clientset}} r_j\alpha_j&\label{eqn:fac_dual}  
    \\ \notag
    \textrm{subject to} \quad \textstyle{
      \sum_{j\in \clientset}\beta_{ij}} &\leq f_i  &\quad\quad			&\forall i \in \sitesset  
    \\ \notag
    \alpha_{j} - \beta_{ij} 	&\leq  d_{ij}       &                 & \forall i\in \sitesset, j\in \clientset 
    \\ \notag
    \alpha_j \geq 0, \beta_{ij} &\geq 0           &            & \forall i\in \sitesset, j\in \clientset
  \end{alignat}
  %%%%%%%%%%%
\end{frame}

%%%
\begin{frame}
  \frametitle{The Shmoys, Tardos and Ardal's Algorithm (STA97)}
  \begin{itemize}
  \item If all $N(j)$ disjoint, then easy.
  \item To bound $F^A$, need neighborhood of chosen clients be disjoint.
  \item To bound $C^A$, need non-primary clients having a fail over connection.
  \end{itemize}

  \begin{itemize}
  \item The greedy clustering: iteratively find the best client and assign other clients to it.
  \item Estimate $\max d_{ij}$, either cut the neighborhood $N(j)$ or use dual solution.
  \end{itemize}
\end{frame}

%%%
\begin{frame}
  \frametitle{Chudak, Svi, Byrka and Li' improvement}
  \begin{itemize}
  \item Chudak: randomized rounding, estimate on the expected connection cost
  \item Sviridenko: use a concave function to upper bound distance and guide rounding
  \item Byrka: boost facility opening probability and use $N_{\cls}(j)$ for overlapping
  \item Li: find the right distribution for probability boost
  \end{itemize}
\end{frame}

%%%
\begin{frame}
  \frametitle{Demand Reduction} Given an FTFP instance, we can reduce
  it to an instance such that $R=\max_{j}r_j$ is bounded by
  $2|\sitesset|$.

  \begin{itemize}
    \item $\hatx_{ij} = \floor{x_{ij}^\ast}, \haty_{i} = \floor{y_i^\ast}$
    \item $\dotx_{ij} = x_{ij}^\ast - \hatx_{ij}, \doty_{i} = y_i^\ast
      - \haty_{i}$
    \item $\hatr_j = \sum_{i\in\sitesset} \hatx_{ij}$
    \item $\dotr_j = r_j - \hatr_j$
  \end{itemize}
  
  \begin{claim}
    $\hatx_{ij}, \haty_{i}$ is feasible and optimal for $\hat I$, and
    $\dotx_{ij}, \doty_{i}$ is feasible and optimal for $\dot I$.
  \end{claim}
\end{frame}

%%%
\begin{frame}
  \begin{theorem}
    Given any $\rho\geq 1$ approximation algorithm $\calA$ for solving
    restricted FTFP, we can obtain an algorithm with
    $\rho$-approximation for general FTFP.
  \end{theorem}
  \begin{proof}
    Solve LP and obtain $\hat \calI$ and $\dot \calI$. For $\hat I$ we have
    ratio $1$, and use $\calA$ to solve $\dot \calI$ with ratio
    $\rho$. Final ratio is $\max\{1,\rho\}$.
  \end{proof}
\end{frame}

%%%
\begin{frame}
  \begin{corollary}
    There is a $1.7245$-approximation algorithm for the FTFP problem.
  \end{corollary}
  \begin{proof}
    We simply reduce an FTFP problem into an FTFL problem. Solving the
    instance $\dot \calI$ using the $1.7245$-approximation algorithm
    for FTFL by Byrka {\etal}.
  \end{proof}
\end{frame}

%%%
\begin{frame}
  \frametitle{Improve from $1.7245$ to $1.575$-approximation}
  \begin{itemize}
  \item We have shown that FTFP can be reduced to FTFL while
    preserving the approximation ratio.
  \item Next step is to show FTFP can be approximated with a better
    ratio than FTFL.
  \item Simple case is when all $r_j$'s are equal, then we can apply
    any UFL approximation results to FTFP as the uniform FTFP is
    simply a scaled version of UFL.
  \item For general FTFP, we need \emph{Adaptive Partition}.
  \end{itemize}
\end{frame}

%%%
\begin{frame}
  \frametitle{Adaptive Partition} 

  Given an instance of FTFP, with its fractional optimal solution
  $(\bfx^\ast, \bfy^\ast)$, w.l.o.g. we assume \emph{completeness},
  i.e. $x_{ij}^\ast > 0$ implies $x_{ij} ^\ast = y_i^\ast$.  Then we
  can partition the instance into unit demands and facilities, with
  fractional solution $(\barbfx, \barbfy)$ such that
  \begin{itemize}
  \item $x_{ij}^\ast$ is spread among its demands.
  \item $y_i^\ast$ is spread among its facilities.
  \item Each demand $\nu$ has a neighborhood $\wbarN(\nu)$ with total
    connectoin value of $1$.
  \item Primary demands have a smaller cost than non-primary demands
    assigned to them.
  \end{itemize}
\end{frame}

%%%
\begin{frame}
  \frametitle{An Example of Adaptive Partition}
  4 sites and 4 clients,
  \begin{itemize}
  \item all $f_i=1$
  \item all $d_{ij}=1$ except $d_{ii} = 3$ for $i=1,2,3,4$
  \item $r_1 = 1, r_2 = r_3 = r_4 = 2$.
  \end{itemize}
\end{frame}

%%%
\begin{frame}
  \frametitle{The Fractional Optimal Solution}
  \begin{table}
    \begin{subtable}{0.5\textwidth}
      \centering
      \begin{tabular}{c | c c c c}
        $y_i^\ast$ & 1 & 2 & 3 & 4\\
        \hline
        & 4/3 & 1/3 & 1/3 & 1/3\\
      \end{tabular}
      \subcaption{}
    \end{subtable}
%
    \begin{subtable}{0.5\textwidth}
      \centering
      \begin{tabular}{c | c c c c}
        $x_{ij}^\ast$ & $j=1$ & 2 & 3 & 4\\
        \hline
        $i=1$ & 0 & 4/3 & 4/3 & 4/3\\
        2 & 1/3 & 0 & 1/3 & 1/3\\
        3 & 1/3 & 1/3 & 0 & 1/3\\
        4 & 1/3 & 1/3 & 1/3 & 0\\
      \end{tabular}
      \subcaption{}
    \end{subtable}
    \caption{An optimal fractional solution to the FTFP instance.}
\end{table}

The dual solution has all $\alpha_j^\ast = 4/3$.
\end{frame}

%%%
\begin{frame}
  \frametitle{Phase 1: Iteration 1}
  \begin{table}
  \begin{subtable}{0.5\textwidth}
    \centering
    \begin{tabular}{c | c c c c}
      $\bary$ & 1 & 2 & 3 & 4\\
      \hline
      & 1/3 & 1/3 & 1/3 & 1/3\\
    \end{tabular}
    \subcaption{Opening fraction of the first facility in each site.}
  \end{subtable}
%
  \begin{subtable}{0.5\textwidth}
    \centering
    \begin{tabular}{c | c c c c}
      $\barx$ & 1 & 2 & 3 & 4\\
      \hline
      1 & 0 & 1/3 & 1/3 & 1/3\\
      2 & 0 & 0 & 1/3 & 1/3\\
      3 & 0 & 1/3 & 0 & 1/3\\
      4 & 0 & 1/3 & 1/3 & 0\\
    \end{tabular}
    \subcaption{Connection fraction of the first demand of each client.}
  \end{subtable}
\end{table}
\end{frame}

\begin{frame}
  \frametitle{Phase 1: Iteration 2}
  \begin{table}
  \begin{subtable}{0.5\textwidth}
    \centering
    \begin{tabular}{c | c c c c}
      $\bary$ & 1 & 2 & 3 & 4\\
      \hline
      & 1 &  &  & \\
    \end{tabular}
    \subcaption{Opening fraction of the second facility in each site.}
  \end{subtable}
%
  \begin{subtable}{0.5\textwidth}
    \centering
    \begin{tabular}{c | c c c c}
      $\barx$ & 1 & 2 & 3 & 4\\
      \hline
      2 & 1 & 0 & 0 & 0\\
      3 & 1 & 0 & 0 & 0\\
      4 & 1 & 0 & 0 & 0\\
    \end{tabular}
    \subcaption{Connection fraction of the second demand of each
      client. Notice client 1 does not have a second demand.}
  \end{subtable}
\end{table}
\end{frame}

%%%
\begin{frame}
  \frametitle{Phase 2: Augment to Unit}
  \begin{table}
    \begin{subtable}{0.5\textwidth}
      \centering
      \begin{tabular}{c | c c c c}
        $\barx$ & 1 & 2 & 3 & 4\\
        \hline
        1 & 0 & 1/3 & 1/3 & 1/3\\
        2 & 1/3 & 0 & 1/3 & 1/3\\
        3 & 1/3 & 1/3 & 0 & 1/3\\
        4 & 1/3 & 1/3 & 1/3 & 0\\
      \end{tabular}
      \subcaption{Connection fraction of the first demand of each
        client.}
    \end{subtable}
%
    \begin{subtable}{0.5\textwidth}
      \centering
      \begin{tabular}{c | c c c}
        $\barx$ & 2 & 3 & 4\\
        \hline
        1  & 1 & 1 & 1\\
        2  & 0 & 0 & 0\\
        3  & 0 & 0 & 0\\
        4  & 0 & 0 & 0\\
      \end{tabular}
      \subcaption{Connection fraction of the secon demand of each
        client except client 1.}
    \end{subtable}
    \caption{Notice all demands have connection value $1$.}
  \end{table}
\end{frame}


%%%%%%%%%%
\end{document}
