%% lyan doctoral dissertation
%% init @ 03/26/2013

%% the preamble below is from the template
%%
%% uctest.tex 11/3/94
%% Copyright (C) 1988-2004 Daniel Gildea, BBF, Ethan Munson.
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2003/12/01 or later.
%
% This work has the LPPL maintenance status "maintained".
% 
% The Current Maintainer of this work is Daniel Gildea.
%
% 2007/08/01
% LaTeX Package "ucr" is modified from LaTeX package "ucthesis."
% This modification is therefore under to the conditions of 
% the LaTeX Project Public License.
% Its formality is suitable for the dissertation of Universty of
% California, Riverside.
% This test document is for the convenience of all students of
% Universty of California, Riverside.
% Contact Charles Yang at chcyang@yahoo.com if you like.
% Charles Yang has nothing to do with the original author's sarcasm.
%
% \documentclass[11pt]{ucthesis}
% \documentclass[11pt]{ucr}
\documentclass[oneside,final]{ucr}
\usepackage{amssymb}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{bm}
\usepackage{amsmath}
\usepackage{mathrsfs}
\usepackage[dvips]{graphicx}
\usepackage{graphics}
\usepackage{subfigure}
\usepackage{flafter}
\usepackage{sw20uctd}

%TCIDATA{OutputFilter=LATEX.DLL}
%TCIDATA{Created=Saturday, April 29, 2006 22:07:22}
%TCIDATA{LastRevised=Tuesday, July 17, 2007 22:48:56}
%TCIDATA{<META NAME="GraphicsSave" CONTENT="32">}
%TCIDATA{<META NAME="DocumentShell" CONTENT="Other Documents\SW\Thesis - University of California Thesis">}
%TCIDATA{Language=American English}
%TCIDATA{CSTFile=ucr.cst}

\newtheorem{theorem}{Theorem}
\newtheorem{acknowledgement}[theorem]{Acknowledgement}
\newtheorem{algorithm}[theorem]{Algorithm}
\newtheorem{axiom}[theorem]{Axiom}
\newtheorem{case}[theorem]{Case}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{conclusion}[theorem]{Conclusion}
\newtheorem{condition}[theorem]{Condition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{criterion}[theorem]{Criterion}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{solution}[theorem]{Solution}
\newtheorem{summary}[theorem]{Summary}
\newenvironment{proof}[1][Proof]{\textbf{#1.} }{\ \rule{0.5em}{0.5em}}
\def\dsp{\def\baselinestretch{2.0}\large\normalsize}
\dsp
%% tcilatex is a package from Scientific Workplace.
%% The user may remove the following line without serious damage.
%% \input{tcilatex}
%% The user must use \textheight and \topmargin to control to button margin.
\textheight = 8.25in
\topmargin = 0.750in

\input{macros.tex}
% for \cal definition
\makeatletter
\DeclareRobustCommand*\cal{\@fontswitch\relax\mathcal}
\makeatother
\setlength\headsep{-0.5in} 
\begin{document}

% Declarations for Front Matter

\title{Approximation Algorithms for The Fault-tolerant Facility Placement Problem}
\author{Li Yan}
\degreemonth{June}
\degreeyear{2013}
\degree{Doctor of Philosophy}
\chair{Professor Marek Chrobak}
\othermembers{Professor Tao Jiang\\
Professor Stefano Lonardi\\
Professor Neal Young}
\numberofmembers{4}
\field{Computer Science}
\campus{Riverside}

\maketitle
\copyrightpage{}
\approvalpage{}

\degreesemester{Summer}

\begin{frontmatter}

\begin{acknowledgements}
  I would thank my advisor, Marek Chrobak, for bringing me into the
  PhD program of U of California Riverside, and for his guidance and
  patience on my study and research in the past five years. I am also
  grateful for the committee for helpful discussion and helpful
  comments on my research and the dissertation.

  The support and encouragement from my wife and my parents is always
  a source of morale.
\end{acknowledgements}

\begin{dedication}
\null\vfil
{\large
\begin{center}
  To my parents, who always have faith on my endeavor.
\end{center}}
\vfil\null
\end{dedication}

\begin{abstract}
  The dissertation concerns the fault-tolerant facility placement
  problem (FTFP), a variant of the well-known uncapacitated facility
  location problem (UFL). The result was mostly on the approximation
  algorithms and their performance guarantee. It is easily seen that
  FTFP is a generalization of UFL. In this thesis we show that several
  techniques that have been applied in the UFL problem can be
  generalized to the FTFP problem with good approximation results.
\end{abstract}

\tableofcontents
\listoffigures
\listoftables

\end{frontmatter}

%\part{First Part}

%% ch1 intro
\chapter{Introduction} \label{ch: intro}

\section{The Problem and the Background}
The facility location problems (FL) is about selecting a set of
candidate places to build facilities and connecting clients to the
facilities to satisfy their demands. It models real world scenarios
like setting up warehouses to deliver commodities to retailers,
building power suppliers to serve the needs of a district of
residents, placing content servers in a network to send files to
clients. This simple model has been an active topic in both operations
research and computer science since 1960s, and a number of algorithm
design techniques have been found applicable in obtaining solutions
with desired properties.

There are over a dozen different variation in the problem formulation,
and the uncapacitated facility location problem (UFL) concerns the
simpliest model where each candidate facility has an opening cost and
the connection cost between a client and a facility is the distance
between the two. Each client needs to be connected to one open
facility. A solution consists of a set of facilities to open and a
specification of connections for each client to an open facility. The
cost of the solution is simply the sum of facility opening cost and
the connection cost to connect every client to some open facility. The
UFL problem asks for a solution with minimum cost.

The problem studied in this thesis is a generalization of the UFL
problem, in that each client may specify a demand and the client then
needs to be connected to several different facilities with the number
of connections equal to its demand.  A solution consists of a
specification of the number of facilities to open in each site, and
the connection between clients and sites. Open multiple facilities in
the same site incurs a cost of the opening cost for this site the same
number of times, and the connection cost between a site and a client
is the number of connections times the distance between the two, with
the constaint that the number of connections cannot exceed the number
of facilities opened in that site. The FTFP problem asks for a
solution with minimum cost.

\section{Notation and Definition}
We denote the set of sites as $\sitesset$ and the set of clients as
$\clientset$. Each client $j \in \clientset$ has a demand $r_j$,
meaning the client $j$ needs to be connected to $r_j$ different
facilities. To open one facility at site $i$ incurs a cost of
$f_i$. To make one connection from client $j$ to a facility at site
$i$ incurs a cost of $d_{ij}$. The problem asks for a vector of
$(\bfx, \bfy)$ such that $x_{ij} \in \{0, 1\}$ denotes the number of
connections between site $i$ and client $j$, and $y_i \in \{0, 1\}$
denotes the number of facilities opened at site $i$. We then seek a
solution such that $y_i \geq x_{ij}$ for every $i \in \sitesset, j \in
\clientset$ and $\sum_{i\in\sitesset} x_{ij} \geq r_j$ for all clients
$j \in \clientset$, and we are to minimize the total cost of the
solution, which is $\sum_{i \in \sitesset} f_i y_i + \sum_{i \in
  \sitesset, j \in \clientset} d_{ij} x_{ij}$. We call $\sum_{i \in
  \sitesset} f_i y_i$ the facility cost of a solution and $\sum_{i \in
  \sitesset, j \in \clientset} d_{ij} x_{ij}$ the connection cost of a
solution $(\bfx, \bfy)$.

\section{The Notion of P vs NP, Approximation}
Both the UFL problem and the FTFP problem are easily seen to be
NP-hard, as they contain the Set Cover problem as a special case. The
Set Cover problem is that, given a universe $\calU = \{e_1,
\ldots, e_n\}$ and a collection of subsets $\calS = \{S_1,
\ldots, S_m\}$ such that $S_l \leq U$ for $l=1,\ldots,m$, find a
minimum number of sets in $\calS$ to cover all elements in
$\calU$. It is well-known that the Set-Cover problem is NP-hard.

\begin{proposition}
  The general UFL problem is NP-hard.
\end{proposition}
\begin{proof}
  Reduction from the Set Cover problem. In the Set Cover problem, we
  have a universe of elements, that is $\calU = \{e_1, \ldots, e_n\}$,
  and a collection of sets $\calS = \{S_1, \ldots, S_m\}$ such that
  $S_i \subseteq \calU$ for $i=1,\ldots,m$. We construct a general UFL
  instance like this: for each $e_j, j=1,\ldots,n$ we have a client
  $j$, and for each set $S_i, i=1,\ldots,m$ we have a facility
  $i$. The facility cost $f_i=1$ for every facility
  $i=1,\ldots,m$~\footnote{Actually any value of $f_i$ will work, for
    example, we can set $f_i=0$ for every facility $i$.} and the
  distance $d_{ij} = 1$ if $e_j \in S_i$ and $d_{ij} = \infty$ if $e_j
  \notin S_i$. Clearly an optimal solution for the UFL instance can
  only use edges with $d_{ij} = 1$. It is easy to see that given any
  optimal solution of the Set Cover instance, we can construct an
  optimal solution for the UFL instance, by simply taking the
  facilities whose corresponding sets are chosen in the Set Cover. On
  the other hand, given an optimal solution to the UFL instance, we
  can only have $d_{ij}=1$ connections, that implies for every client $j$,
  the corresponding element $e_j$ is covered by some set $S_i$, whose
  corresponding facility $i$ is chosen in the UFL solution. Let $I$ be
  the set of facilities chosen in the UFL solution, it is easily seen
  that the corresponding set of sets in the Set Cover instance form a
  set cover.
\end{proof}

\begin{proposition}
  The metric UFL problem is NP-hard.
\end{proposition}
\begin{proof}
  The reduction is also from the Set Cover problem. Unlike the general
  UFL problem, we can no longer have edges with length $1$ and
  $\infty$ now, as the distances are constrained by the triangle
  inequality. We still have sets $S_i$ in the Set Cover instance
  correspond to the facilities $i$ in the metric UFL instance, and
  elements $e_j$ in the Set Cover instance correspond to the clients
  $j$ in the metric UFL instance. Our facility cost $f_i = \epsilon$
  for some small number $\epsilon > 0$, and every facility $i$ has the
  same facility cost. Our distance $d_{ij}$ is now $1$ if $e_j \in
  S_i$ and $3$ if $e_j \notin S_i$ in the Set Cover instance.

  Given the construction, it is clear that any optimal solution for
  the metric UFL instance cannot use an edge of distance $3$, as there
  exists a solution that beats such a solution with lower cost, namely
  a solution that opens all facilities with total cost $m\epsilon +
  n\cdot 1 = m\epsilon + n$, as we can choose $\epsilon = 1/m^2$. It
  follows that any optimal solution for the metric UFL instance must
  have all clients connected at distance of $1$. Such a solution would
  have a facility set corresponds to a set cover for the corresponding
  Set Cover instance, as for every client $j$, the corresponding
  element $e_j$ is covered by some set $S_i$ corresponding to some
  facility $i$.
\end{proof}

Now we show the MaxSNP-hardness of the metric UFL problem. This
implies the metric UFL problem has no polynomial approximation scheme
(PTAS).
\begin{proposition}
  The metric UFL problem is MaxSNP-hard.
\end{proposition}
\begin{proof}
  The proof is by a reduction from the B-Vertex Cover problem. In the
  B-Vertex Cover problem, we are given a graph $G=(V,E)$, and a
  constant $B$, such that every vertex $u\in V$ has degree no more
  than $B$. And the problem asks for a vertex cover with minimum
  size. That is, we are to find a minimum set $V' \subseteq V$ such
  that every edge $e \in E$ has at least one endpoint in $V'$.

  The idea is to show that, for any given constant $\epsilon < 1$,
  given an algorithm for the metric UFL problem with approximation
  ratio $1+\epsilon$ for any constant $\epsilon < 1$, we are able to
  find an algorithm for the B-Vertex Cover problem with approximation
  ratio $1+\epsilon'$ such that $\epsilon'$ approaches $0$ as
  $\epsilon$ approaches $0$.

  Given an instance of B-Vertex Cover, we construct an instance of
  metric UFL. For every vertex $u \in V$ we have a facility $i$ and
  for every edge $e \in E$ we have a city $j$. $c_{ij} = 1$ if the
  corresponding edge $e$ of client $j$ is incident on vertex $u$,
  which corresponds to the facility $i$, $d_{ij} = 3$ otherwise. We
  postpone defining the facility cost $f_i$ but remark that all
  facilities $i$ have the same facility opening cost, that is $f_i$
  equal for all facility $i$.

  Given an instance of B-Vertex Cover, let $k$ be the size of an
  optimal vertex cover. We are to show that we can use an
  $(1+\epsilon)$-approximation algorithm $\calA_{\smallUFL}$ for metric UFL
  to construct an $(1+\epsilon')$-approximation algorithm
  $\calA_{\smallBVC}$ for B-Vertex Cover. First we run algorithm
  $\calA_{\smallUFL}$ on the UFL instance, and let there be $\beta k$
  facilities open and $\gamma n$ cities connect with $d_{ij}=1$ and
  the rest with $d_{ij} = 3$. Then the cost of $\calA_{\smallUFL}$ is
  \begin{equation*}
    \ALG_{\smallUFL} = \beta k f + \gamma n + 3 (1 - \gamma) n
  \end{equation*}

  Since $\calA_{\smallUFL}$ is a $(1+\epsilon)$-approximation algorithm, we
  have that $\ALG_{\smallUFL} \leq \OPT_{\smallUFL}$. To get a handle on
  $\OPT_{\smallUFL}$, we use a feasible solution to this $\UFL$
  instance. One possible choice is to use the solution with
  $k$-facilities and all clients are connected at distance $1$. Notice
  that we only need to know such a solution exists. This solution has
  cost $kf + n$. Therefore, we have
  \begin{equation*}
    \beta k f + \gamma n + 3 (1 - \gamma) n \leq (1 + \epsilon) (kf + n)
  \end{equation*}
  Cancelling $n$ from both sides, we get
  \begin{equation}
    \label{eq:APX:UFL}
    \beta k f + 2(1-\gamma) n \leq (1+\epsilon)kf + \epsilon n
  \end{equation}

  Now we look for a solution to the B-Vertex Cover instance. The
  solution to {\UFL} shows that we can use $\beta k$ facilities to
  connect to $\gamma n$ clients with distance $1$, for the others at
  distance $3$, we need at most one facility each to connect them at
  distance $1$, that is, we need at most $(1-\gamma)n$ vertices to
  cover the remaining edges. So we have a vertex cover with size
  $\beta k + (1 - \gamma) n$, we hope to show that
  \begin{equation}
    \label{eq:APX:BVC}
    \beta k + (1 - \gamma) n \leq (1 + \epsilon') k,
  \end{equation}
  where $\epsilon'$ is a constant depend on $\epsilon$ and possibly
  $B$, with the property that $\epsilon'$ approaches $0$ as $\epsilon$
  approaches $0$.

  Compare Eqn.~(\ref{eq:APX:UFL}) and Eqn.~(\ref{eq:APX:BVC}), we need
  to have some way to clean up the variables to get simpler
  inequalities so that we can use (\ref{eq:APX:UFL}) to deduce
  (\ref{eq:APX:BVC}). Since we have the flexibility to choose $f_i$, we
  use that to simplify (\ref{eq:APX:UFL}) by setting $f_i$ to be such
  that $n/(kf) = B$, then (\ref{eq:APX:UFL}) becomes
  \begin{equation}
    \label{eq:APX:UFL2}
    \beta + 2(1-\gamma)B \leq (1+\epsilon) + \epsilon B.
  \end{equation}
  This looks very similar to the left hand side of (\ref{eq:APX:BVC})
  now, if we can get rid of $n$ in that left hand side. We now use the
  fact that every vertex in the B-Vertex Cover instance has degree at
  most $B$, so the $k$ vertices in an optimal solution to this
  B-Vertex Cover instance have at most $kB$ endpoints, which is no
  less than $n$, the number of edges covered. So we have $kB \geq n$,
  thus, to obtain (\ref{eq:APX:BVC}), it suffices to show
  \begin{equation}
    \label{eq:APX:BVC2}
    \beta k + (1 - \gamma) kB \leq (1 + \epsilon') k.
  \end{equation}
  Dividing $k$ from both sides, our goal now is to show
  \begin{equation}
    \label{eq:APX:BVC3}
    \beta + (1 - \gamma) B \leq (1 + \epsilon').
  \end{equation}
  Recall that in (\ref{eq:APX:UFL2}) we have $\beta + 2(1-\gamma)B
  \leq (1+\epsilon) + \epsilon B$, if we set $\epsilon' = \epsilon (1
  + B)$, we shall have the following
  \begin{equation*}
    \beta + (1-\gamma)B \leq \beta + 2(1-\gamma)B \leq (1+\epsilon) +
    \epsilon B = 1 + \epsilon (1 + B) = 1 + \epsilon',
  \end{equation*}
  where the first inequality is obvious, the second is from
  (\ref{eq:APX:UFL2}).  It is easy to see that $\epsilon'$ approaches
  $0$ as $\epsilon$ approaches $0$ and we have the desired inequality
  (\ref{eq:APX:BVC3}). We have thus found a $(1+\epsilon')$
  approximation algorithm for the B-Vertex Cover problem, given a
  $(1+\epsilon)$-approximation algorithm for the metric {\UFL}
  problem, with the property that as $\epsilon$ approaches $0$,
  $\epsilon'$ approaches $0$ as well.

  Since B-Vertex Cover has no PTAS, we conclude metric UFL has no PTAS
  as well.
\end{proof}

After we have shown the metric UFL problem is MaxSNP-hard, we focus on
the metric version from now on. In the follow, we mention UFL and FTFP
without explicitly specifying that their distances form a metric, that
is, $d_{ij}$'s are symmetric and satisfy the triangle inequality.

We briefly mention the last piece of hardness result, which is the
Guha-Khuller theorem that {\UFL} cannot be approximated to less than
$1.463$ unless $\NP \subseteq \DTIME(n^{\log\log n})$.
\textbf{****THIS MARKS THE TEXT OF THE TEMPLATE****}

Every dissertation should have an introduction.  You might not realize
it, but the introduction should introduce the concepts, backgrouand,
and goals of the dissertation.

\begin{table}
\begin{tabular}{|l|r|}
  \hline 
Title & Author \\
\hline
War And Peace & Leo Tolstoy \\
The Great Gatsby & F. Scott Fitzgerald \\ \hline
\end{tabular}
\caption{A normalsize table.  There has been a complaint that table
captions are not single-spaced.  This is odd because the code
indicates that they should be.}
\end{table}

\begin{table}
\caption{A small table.}
\begin{scriptsizetabular}{|l|r|}
  \hline 
Title & Author \\
\hline
War And Peace & Leo Tolstoy \\
The Great Gatsby & F. Scott Fitzgerald \\ \hline
\end{scriptsizetabular}
\end{table}

%% ch2 related work and results summary
\chapter{Related Work and Known Results} \label{ch: related_work}

\section{Related Problems}

\subsection{UFL}
Upper and lower bound.

\subsection{FTFL}
Upper and lower bound.

\subsection{Our Problem: FTFP}
Upper and lower bound.


%% ch3 techniques
\chapter{Techniques} \label{ch: techniques}

We employ two techniques to obtain approximation results on the FTFP
problem.

\section{Demand Reduction}

\section{Adaptive Partition}

%% ch4 LP-rounding results
\chapter{LP-rounding Algorithms} \label{ch: lp-rounding}

\section{3-approximation}

\section{1.736-approximation}

\section{1.575-approximation}

%% ch5 primal-dual results
\chapter{Primal-dual Algorithms} \label{ch: primal-dual}

\section{The Greedy algorithm with $O(\log n)$ Ratio}

\section{An Example Showing the Difficulty in Obtaining $O(1)$ Ratio}

%% ch6 conclusion
\chapter{Conclusion} \label{ch: conclusion}

\bibliographystyle{plain}
\bibliography{facility}

\appendix
\chapter{Some Ancillary Stuff}

Ancillary material should be put in appendices, which appear after the
bibliography. 

\end{document}
